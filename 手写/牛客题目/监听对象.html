<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
</head>

<body>
    <style>
        ul {
            list-style: none;
        }
    </style>
    <ul></ul>

    <script>
        var ul = document.querySelector('ul');
        var person = { sex: '男', age: '25', name: '王大锤', height: 28, weight: 32 };
        const _render = element => {
            var str = `<li>姓名：<span>${person.name}</span></li>
                <li>性别：<span>${person.sex}</span></li>
                <li>年龄：<span>${person.age}</span></li>
                <li>身高：<span>${person.height}</span></li>
                <li>体重：<span>${person.weight}</span></li>`
            element.innerHTML = str;
        }
        _render(ul);
        // 补全代码

        function Observe(obj) {
            if (typeof obj !== 'object' || obj == null) {
                return obj
            }
            for (let key in obj) {
                defineReactive(obj, key, obj[key])
            }
        }
        function defineReactive(target, key, value) {
            Object.defineProperty(target, key, {
                get: function () {
                    return value
                },
                set: function (newVal) {
                    if (value !== newVal) {
                        value = newVal;
                        _render(ul)
                    }

                }
            })
        }

        Observe(person)



    </script>
</body>

</html>